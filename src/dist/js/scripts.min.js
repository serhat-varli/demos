!function(){function t(){this.hotelData=[{id:1,name:"Voyage Hotel 1",score:7.4,img:"https://via.placeholder.com/125x125.png"},{id:4,name:"Voyage Hotel 4",score:5.7,img:"https://via.placeholder.com/125x125.png"},{id:2,name:"Voyage Hotel 2",score:6.9,img:"https://via.placeholder.com/125x125.png"},{id:3,name:"Voyage Hotel 3",score:1,img:"https://via.placeholder.com/125x125.png"}],this.LS_HotelData=localStorage.getItem("LS_HotelData"),this.inLocalStorageHotelDataState=void 0!==this.LS_HotelData&&null!==this.LS_HotelData,this.inCoreHotelDataState=void 0!==this.hotelData&&0<this.hotelData.length}(t.constructor=t).prototype={init:async function(){i.events(),await i.hotelDataPrepare().then(()=>{i.bindViewHotelData()})},events:function(){$("body").on("click",'[data-js="filter"]',function(){$(".ets__add--filter ul").toggleClass("js-active")}),$("body").on("click",".ets__add--filter li a",function(t){t.preventDefault();t=i.inLocalStorageHotelDataState?i.inCoreHotelDataState?i.hotelData:[]:JSON.parse(i.hotelData);"plus"==$(this).data("js")?t.sort((t,a)=>t.score-a.score):"minus"==$(this).data("js")&&t.sort((t,a)=>a.score-t.score),$(".ets__add--filter ul").removeClass("js-active"),localStorage.setItem("products",JSON.stringify(t)),i.bindViewHotelData()}),$("body").on("click",'[data-js="ets__plus"]',function(t){var a,e=localStorage.getItem("LS_HotelData"),o=JSON.parse(e);null!=o&&parseFloat($(this).data("score"))<=9&&(a=$(this).data("id"),e=o.findIndex(t=>t.id==a),o[e].score=Number.parseFloat($(this).data("score"))+1,localStorage.setItem("LS_HotelData",JSON.stringify(o)),i.getProduct())}),$("body").on("click",'[data-js="ets__minus"]',function(t){var a,e=localStorage.getItem("LS_HotelData"),o=JSON.parse(e);null!=o&&1<=parseFloat($(this).data("score"))&&(a=$(this).data("id"),e=o.findIndex(t=>t.id==a),o[e].score=Number.parseFloat($(this).data("score"))-1,localStorage.setItem("LS_HotelData",JSON.stringify(o)),i.getProduct())}),$("body").on("click",'[data-js="ets__delete"]',function(t){$('[data-modal="modal"]').find("span").text($(this).data("name")),$('[data-js="ets__delete--modal"]').attr("data-id",$(this).data("id"));var a=$('[data-modal="modal"]').html();i.openModal(a,"Oteli Sİl")}),$("body").on("click",'[data-js="ets__delete--modal"]',function(t){var a=localStorage.getItem("products"),e=JSON.parse(a);if(null!=e){for(var o=$(this).data("id"),s=0;e.length;s++)if(e[s].id==o){e.splice(s,1);break}localStorage.setItem("products",JSON.stringify(e)),i.bindViewHotelData(),i.clearModal()}}),$("body").on("click",'[data-js="ets__delete"]',function(t){$('[data-modal="modal"]').find("span").text($(this).data("name")),$('[data-js="ets__delete--modal"]').attr("data-id",$(this).data("id"));var a=$('[data-modal="modal"]').html();i.openModal(a,"Oteli Sİl")})},hotelDataPrepare:async function(){this.inLocalStorageHotelDataState&&(this.hotelData.sort((t,a)=>t.score-a.score),localStorage.setItem("LS_HotelData",JSON.stringify(this.hotelData)))},bindViewHotelData:function(){$(".ets__product--list .row").html("");var t=this.inLocalStorageHotelDataState?this.inCoreHotelDataState?this.hotelData:[]:JSON.parse(this.hotelData);t&&t.length?t.forEach(function(t){var a="";a+=' <div class="col-md-6">',a+='     <div class="ets__item--area">',a+='         <button class="ets__delete" data-js="ets__delete" data-name="'+t.name+'" data-id="'+t.id+'"><i class="icon-Close"></i></button>',a+='         <div class="ets__img">',a+='             <img src="https://via.placeholder.com/125x125.png" alt="">',a+="         </div>",a+='         <div class="ets__info--area">',a+="             <h2>"+t.name+"</h2>",a+='             <div class="ets__score--area">',a+='                 <div class="ets__score">'+t.score+" Puan</div>",a+='                 <div class="ets__button-area">',a+='                     <button class="btn ets__plus" data-id="'+t.id+'" data-score="'+t.score+'" data-js="ets__plus">PUAN ARTIR</button>',a+='                     <button class="btn ets__minus" data-id="'+t.id+'" data-score="'+t.score+'"  data-js="ets__minus">PUAN AZALT</button>',a+="                 </div>",a+="             </div>",a+="         </div>",a+="     </div>",a+=" </div>",$(".ets__product--list .row").append(a)}):$(".ets__product--list .row").html("Veri Bulunamadı!")},openModal:function(t,a,e,o,s,l){l=i.CreateModalContent(t,a,e,o,s,l);$("#site-modal").html(l),$("#site-modal").modal("show")},createModalContent:function(t,a,e,o,s,l){var i="",d="",n="";return'<div class="modal-dialog '+(s?"":"modal-dialog-centered")+" "+(null==o?"modal-md":o)+'"><div class="modal-content '+(l?"auto-height":"")+'"><button type="button" class="close modal-close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>'+(i=a?'<div class="modal-header"><h5 class="modal-title">'+a+"</h5></div>":i)+(d=t?'<div class="modal-body">'+t+"</div>":d)+(n=e?'<div class="modal-footer">'+e+"</div>":n)+"</div></div>"},clearModal:function(){$("#site-modal").modal("hide"),$("#site-modal").html("")}};var i=new t;i.init()}();